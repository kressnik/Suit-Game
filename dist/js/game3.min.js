"use strict";$((function(){const e=new Grid(10,10).create(),t=new GridModificator(e),s=new GridDraw(e,"#game-3 .game-box__lines","game-box__line","game-box__suit");s.clearBody(),s.create(),$("#game-3 .game-box__suit").on("click",(function(){let e=$(this).parent().data("key-line"),i=$(this).data("key-element"),n=t.change(e,i);s.update(n)}))}));class Grid{constructor(e=null,t=null,s=null){this.grid=[],this.qtyLine=e||7,this.qtyElement=t||6,this.elementArr=s||["spades","clubs","diams","hearts"]}create(){for(let e=0;e<this.qtyLine;e++){this.grid[e]=[];for(let t=0;t<this.qtyElement;t++)this.grid[e].push(this.elementArr.randElement())}return JSON.parse(JSON.stringify(this.grid))}get(){return JSON.parse(JSON.stringify(this.grid))}}class GridModificator{constructor(e=null,t=null){this.grid=e,this.selectedElement="",this.changeToElement=t||""}change(e,t){return this.selectedElement=this.grid[e][t],this.selectedElement&&this.dfs(e,t),JSON.parse(JSON.stringify(this.grid))}dfs(e,t){const s=[0,1],i=[1,0],n=[0,-1],r=[-1,0];this.grid[e][t]=this.changeToElement;for(const[l,a]of[s,i,n,r]){const s=e+a,i=t+l,n=this.grid.length,r=this.grid[0].length;this.checkSizeGrid(n,r,s,i)&&this.grid[s][i]===this.selectedElement&&this.dfs(s,i)}return!0}checkSizeGrid(e,t,s,i){return 0<=s&&s<e&&0<=i&&i<t}}class GridDraw{constructor(e=null,t=null,s=null,i=null){this.grid=e,this.boxID=t,this.lineClass=s,this.elementClass=i}create(){const e=$(""+this.boxID);for(const[t,s]of this.grid.entries()){const i=this.createLine(t);for(const[e,t]of s.entries()){const s=this.createElement(e,t);i.append(s)}e.append(i)}}update(e){this.grid=e;const t=$(""+this.boxID);for(const[e,s]of this.grid.entries()){const i=t.find(`.${this.lineClass}:eq(${e})`);for(const[e,t]of s.entries()){const s=t?`&${t};`:"";i.find(`:eq(${e})`).html(s)}}}createLine(e=null){return $("<div/>").addClass(this.lineClass).data("key-line",e)}createElement(e=null,t=null){const s=t?`&${t};`:"";return $("<span/>").addClass(this.elementClass).data("key-element",e).addClass(t).html(s)}clearBody(){$(""+this.boxID).empty()}}