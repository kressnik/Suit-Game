$((function(){Object.defineProperty(Object.prototype,"randElement",{value:function(){return this[Math.floor(Math.random()*this.length)]}});const n=["spades","clubs","diams","hearts"];let t=a();function e(){const n=$('#game-2 [name="qty-line"]').val(),e=$('#game-2 [name="qty-suit"]').val();t=a(n,e),s()}function a(t,e){const a=t||7,o=e||6,i=[];for(let t=0;t<a;t++){let e=i[t]=[];for(let t=0;t<o;t++)e.push(n.randElement())}return function(){return i}}function o(n,t,e,a){return 0<=e&&e<n&&0<=a&&a<t}function i(){let e=t(),a=$(this).parent().data("line-index"),i=$(this).data("suit-index"),l=e[a][i];if(-1!==n.indexOf(l)){(function n(e,a,i){const s=t(),l=[0,1],c=[1,0],r=[0,-1],d=[-1,0];s[a][i]="";for(const[t,u]of[l,c,r,d]){const l=a+u,c=i+t;o(s.length,s[0].length,l,c)&&s[l][c]===e&&n(e,l,c)}return!0})(l,a,i)&&s()}}function s(){const n=t(),e=$("#game-2 .game-box__lines"),a=$("<div/>").addClass("game-box__line"),o=$("<span/>").addClass("game-box__suit");e.empty();for(const[t,i]of n.entries()){let n=a.clone().data("line-index",t);for(const[t,e]of i.entries()){let a=o.clone().data("suit-index",t),i=e?`&${e};`:"";a.addClass(e).html(i),n.append(a)}e.append(n)}$("#game-2 .game-box__suit").on("click",i)}s(),$('#game-2 [name="qty-line"]').on("change",e),$('#game-2 [name="qty-suit"]').on("change",e)}));